(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],d=0,_=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&_.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(_.length)_.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container container"},[e.app_ready?e._e():r("div",{staticClass:"full-page-loader"},[r("div",[e._v("Loading...")])]),e.tron_web_installed?e._e():r("div",{staticClass:"alert alert-danger"},[e._v(" Please install TronLink extension and reload this page ")]),e.tron_web_installed&&!e.user.logged_in?r("div",{staticClass:"alert alert-warning"},[e._v(" Please unlock your TronLink wallet! ")]):e._e(),e.tron_web_installed&&e.user.logged_in?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 mb-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h3",[e._v("Contract info")]),e.loaders.initial_contract_info?r("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}):e._e(),e.loaders.initial_contract_info?e._e():[r("p",[e._v(" Contract address: "),r("a",{attrs:{href:"https://"+("shasta"===e.$appConfig.contract.currentNetwork?"shasta.":"")+"tronscan.org/#/contract/"+e.contract.address+"/code",target:"_blank"}},[e._v(" "+e._s(e.contract.address)+" ")])]),r("p",[e._v(" Balance: "),r("strong",[e._v(e._s(e.contract.contract_balance?e.tron_web.fromSun(e.contract.contract_balance)+" TRX":"-"))])]),e.contract.statistic?[r("p",[e._v(" Invested amount: "),r("strong",[e._v(e._s(e.contract.statistic.investedAmount?e.tron_web.fromSun(e.contract.statistic.investedAmount)+" TRX":"-"))]),r("br"),e._v(" ReInvested amount: "),r("strong",[e._v(e._s(e.contract.statistic.reInvestedAmount?e.tron_web.fromSun(e.contract.statistic.reInvestedAmount)+" TRX":"-"))]),r("br"),e._v(" Withdrawals amount: "),r("strong",[e._v(e._s(e.contract.statistic.withdrawalsAmount?e.tron_web.fromSun(e.contract.statistic.withdrawalsAmount)+" TRX":"-"))]),r("br"),e._v(" Investors count: "),r("strong",[e._v(e._s(e.contract.statistic.investorsCount?e.contract.statistic.investorsCount.toString():"-"))])])]:e._e(),r("hr"),e.contract.settings?r("pre",[e._v("Settings:\n    rootReferrerCode: "+e._s(e.contract.settings.rootReferrerCode.toString())+"\n    investmentPayInterval: "+e._s(e.contract.settings.investmentPayInterval.toString())+"\n    referrerLevelsCount: "+e._s(e.contract.settings.referrerLevelsCount.toString())+"\n    levelsCount: "+e._s(e.contract.settings.levelsCount.toString())+"\n")]):e._e(),e.contract.latest_investor_code?r("pre",[e._v("latestInvestorCode: "+e._s(e.contract.latest_investor_code.toString())+"\n")]):e._e(),e.contract.fee_percent&&e.contract.fee_address?r("pre",[e._v("feePercent: "+e._s(e.contract.fee_percent.toString())+"\nfeeAddress: "+e._s(e.contract.fee_address.toString())+"\n")]):e._e(),e._v(" Levels settings "),r("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.levelsSettings",modifiers:{levelsSettings:!0}}],attrs:{variant:"primary",size:"sm"}},[e._v("Toggle")]),e.loaders.level_settings?r("span",[e._v("(Loading...)")]):e._e(),r("b-collapse",{staticClass:"mt-2",attrs:{id:"levelsSettings"}},[r("table",{staticClass:"table table-sm"},[r("tr",[r("th",{staticClass:"text-center"},[e._v("Level")]),r("th",[e._v("Settings")])]),e._l(e.contract.level_settings,(function(t,n){return t?r("tr",{key:n},[r("td",{staticClass:"text-center"},[e._v(e._s(n+1))]),r("td",{staticStyle:{"word-break":"break-all"}},[e._v(" investAmountMin: "),r("strong",[e._v(e._s(e.tron_web.fromSun(t.investAmountMin))+" TRX")]),r("br"),e._v(" investAmountMax: "),r("strong",[e._v(e._s(e.tron_web.fromSun(t.investAmountMax))+" TRX")]),r("br"),e._v(" maxActiveInvestmentsCount: "),r("strong",[e._v(e._s(t.maxActiveInvestmentsCount))]),r("br"),e._v(" investmentInterest: "),r("strong",[e._v(e._s(t.investmentInterest.toNumber()/1e3)+"%")]),r("br"),e._v(" investmentLifetime: "),r("strong",[e._v(e._s(t.investmentLifetime)+" sec")]),r("br"),e._v(" upgradeInvestedAmount: "),r("strong",[e._v(e._s(e.tron_web.fromSun(t.upgradeInvestedAmount))+" TRX")]),r("br"),e._v(" upgradeReInvestsCount: "),r("strong",[e._v(e._s(t.upgradeReInvestsCount))])])]):e._e()}))],2)])]],2)])]),r("div",{staticClass:"col-lg-6 mb-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h3",[e._v("My info")]),e.loaders.initial_user_info?r("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}):e._e(),e.loaders.initial_user_info?e._e():[r("p",[e._v(" Referrer UID: "),r("strong",[e._v(e._s(e.user.referrer_uid?e.user.referrer_uid:"-"))])]),r("p",[e._v(" Address: "),r("strong",[e._v(e._s(e.user.address))]),r("br"),e._v(" UID: "),r("strong",[e._v(e._s(e.user.uid?e.user.uid:"-"))]),"0"===e.user.uid.toString()?r("b-badge",{staticClass:"ml-1",attrs:{variant:"danger"}},[e._v(" Not registered yet. Invest to register ")]):e._e(),r("br"),e._v(" Level: "),r("strong",[e._v(e._s(e.user.level?e.user.level.toNumber()+1:"-"))]),r("br")],1),r("div",{staticClass:"border p-2 mb-2"},[r("h5",[e._v("Next level progress:")]),r("span",{staticClass:"m-0 mt-1"},[e._v("Invested amount:")]),r("b-progress",{attrs:{max:e.user_upgrade_progress_by_amount.max,height:"20px"}},[r("b-progress-bar",{attrs:{value:e.user_upgrade_progress_by_amount.current,animated:e.user_upgrade_progress_by_amount.current<e.user_upgrade_progress_by_amount.max,variant:e.user_upgrade_progress_by_amount.current<e.user_upgrade_progress_by_amount.max?"warning":"success"}},[r("strong",[e._v(" "+e._s(e.user_upgrade_progress_by_amount.current)+" TRX / "+e._s(e.user_upgrade_progress_by_amount.max)+" TRX ")])])],1),r("span",{staticClass:"m-0 mt-1"},[e._v("ReInvested count:")]),r("b-progress",{attrs:{max:e.user_upgrade_progress_by_count.max,height:"20px"}},[r("b-progress-bar",{attrs:{value:e.user_upgrade_progress_by_count.current,animated:e.user_upgrade_progress_by_count.current<e.user_upgrade_progress_by_count.max,variant:e.user_upgrade_progress_by_count.current<e.user_upgrade_progress_by_count.max?"warning":"success"}},[r("strong",[e._v(" "+e._s(e.user_upgrade_progress_by_count.current)+" / "+e._s(e.user_upgrade_progress_by_count.max)+" ")])])],1)],1),r("p",[e._v(" Balance: "),r("strong",[e._v(e._s(e.user.balance?e.tron_web.fromSun(e.user.balance)+" TRX":"-"))]),r("br"),e._v(" Available referrer earnings: "),r("strong",[e._v(e._s(e.user.available_referrer_earnings_amount?e.tron_web.fromSun(e.user.available_referrer_earnings_amount)+" TRX":"-"))]),r("b-btn",{staticClass:"ml-1",attrs:{variant:"info",size:"sm",disabled:e.loaders.withdraw},on:{click:e.onWithdrawSubmit}},[e._v("Withdraw")]),r("br"),e._v(" Investments count: "),r("strong",[e._v(e._s(e.user.investments_count?e.user.investments_count:"-"))]),r("br"),e._v(" ReInvestments count: "),r("strong",[e._v(e._s(e.user.reInvestments_count?e.user.reInvestments_count:"-"))]),r("br"),e._v(" Invested amount: "),r("strong",[e._v(e._s(e.user.invested_amount?e.tron_web.fromSun(e.user.invested_amount)+" TRX":"-"))]),r("br"),e._v(" ReInvested amount: "),r("strong",[e._v(e._s(e.user.reInvested_amount?e.tron_web.fromSun(e.user.reInvested_amount)+" TRX":"-"))]),r("br"),e._v(" Active investments count: "),r("strong",[e._v(e._s(e.user_investments_active.length+"/"+e.contract.level_settings[e.user.level].maxActiveInvestmentsCount))])],1),r("table",{staticClass:"table table-sm"},[e._m(0),e._l(e.user.referral_levels,(function(t,n){return r("tr",{key:n},[r("td",{staticClass:"text-center"},[e._v(e._s(n+1))]),r("td",{staticClass:"text-center"},[e._v(e._s(t.referrals_count))]),r("td",{staticClass:"text-center"},[e._v(" "+e._s(e.tron_web.fromSun(t.referrals_earnings_amount))+" TRX ")])])}))],2)]],2)])])]),e.loaders.initial_contract_info||e.loaders.initial_user_info?e._e():r("div",{staticClass:"row mb-3 justify-content-center"},[r("div",{staticClass:"col-md-5 col-lg-4"},[r("div",{staticClass:"card p-3"},[r("div",{staticClass:"card-body"},[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmitInvestForm(t)}}},[r("b-form-group",{attrs:{label:"TRX amount"}},[r("b-input",{attrs:{type:"number",step:"any"},model:{value:e.invest_form.amount,callback:function(t){e.$set(e.invest_form,"amount",e._n(t))},expression:"invest_form.amount"}})],1),r("b-form-group",{attrs:{label:"Referrer code"}},[r("b-input",{attrs:{type:"number"},model:{value:e.invest_form.referrer_code,callback:function(t){e.$set(e.invest_form,"referrer_code",e._n(t))},expression:"invest_form.referrer_code"}})],1),r("div",{staticClass:"d-flex justify-content-center"},[r("b-btn",{attrs:{type:"submit",disabled:e.loaders.investing||e.loaders.invest_checking_tx}},[e._v(" Invest ")])],1),e.loaders.invest_checking_tx?r("p",{staticClass:"text-center m-0"},[e._v(" Waiting for tx info... ")]):e._e()],1),e.invest_form.error?r("pre",{staticStyle:{"white-space":"pre-line"}},[e._v("Error:\n"+e._s(e.invest_form.error))]):e._e()],1)])])]),e.loaders.initial_user_info?e._e():r("div",[e.user.investments.length?r("b-tabs",{staticClass:"my-3",attrs:{"content-class":"pt-3"}},[r("b-tab",{attrs:{title:"Active",active:""}},[r("div",{staticClass:"row"},e._l(e.user_investments_active,(function(t){return r("div",{key:"investment-"+t.index,staticClass:"col-md-6 col-lg-4 mb-3"},[r("Investment",{attrs:{tron_web:e.tron_web,contract:e.contract.instance,data:t}})],1)})),0),e.user_investments_active.length?e._e():r("h4",[e._v("No investments yet")])]),r("b-tab",{attrs:{title:"Expired"}},[r("div",{staticClass:"row"},e._l(e.user_investments_expired,(function(t){return r("div",{key:"investment-"+t.index,staticClass:"col-md-6 col-lg-4 mb-3"},[r("Investment",{attrs:{tron_web:e.tron_web,contract:e.contract.instance,data:t}})],1)})),0),e.user_investments_expired.length?e._e():r("h4",[e._v("No investments yet")])]),r("b-tab",{attrs:{title:"History"}},[r("div",{staticClass:"row"},e._l(e.user_investments_history,(function(t){return r("div",{key:"investment-"+t.index,staticClass:"col-md-6 col-lg-4 mb-3"},[r("Investment",{attrs:{tron_web:e.tron_web,contract:e.contract.instance,data:t}})],1)})),0),e.user_investments_history.length?e._e():r("h4",[e._v("No investments yet")])])],1):e._e()],1)]):e._e()])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",{staticClass:"text-center"},[e._v("Level")]),r("th",{staticClass:"text-center"},[e._v("Referrals count")]),r("th",{staticClass:"text-center"},[e._v("Referral earnings amount")])])}],o=(r("4de4"),r("fb6a"),r("a9e3"),r("b64b"),r("d3b7"),r("96cf"),r("1da1")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h5",[e.data.is_expired?e._e():r("b-badge",{attrs:{variant:"success"}},[e._v("active")]),e.data.is_expired?r("b-badge",{attrs:{variant:"danger"}},[e._v("expired")]):e._e(),e.data.index>=0?[e._v(" Investment #"+e._s(e.data.index+1))]:e._e()],2)]),r("div",{staticClass:"card-body"},[e._v(" Created at: "),r("strong",[e._v(e._s(e.moment(1e3*e.data.created_at.toNumber()).format("DD MMM YYYY HH:mm:ss")))]),r("br"),e._v(" Expire at: "),r("strong",[e._v(e._s(e.moment(1e3*e.data.expire_at.toNumber()).format("DD MMM YYYY HH:mm:ss")))]),r("br"),e._v(" Created at level: "),r("strong",[e._v(e._s(e.data.level.toNumber()+1))]),r("br"),e._v(" Amount: "),r("strong",[e._v(e._s(e.tron_web.fromSun(e.data.amount))+" TRX")]),r("br"),e._v(" Total dividends: "),r("strong",[e._v(e._s(e.tron_web.fromSun(e.data.total_dividends))+" TRX")]),r("br"),e._v(" Available dividends: "),r("strong",[e._v(e._s(e.tron_web.fromSun(e.data.available_dividends))+" TRX")]),r("br"),r("br"),r("div",[e.data.is_expired?e._e():r("b-progress",{attrs:{value:e.closing_progress.current,max:e.closing_progress.max,precision:2,"show-progress":"",animated:""}}),r("div",{staticClass:"d-flex justify-content-between"},[e.data.is_expired&&!e.data.is_withdrawn?r("b-btn",{attrs:{variant:"info",disabled:e.loaders.reinvesting||e.loaders.reinvest_checking_tx},on:{click:e.reinvest}},[e._v(" ReInvest ")]):e._e(),e.data.is_expired&&!e.data.is_withdrawn?r("b-btn",{attrs:{variant:"info",disabled:e.loaders.withdrawing||e.loaders.withdraw_checking_tx},on:{click:e.withdraw}},[e._v(" Withdraw ")]):e._e()],1),e.loaders.reinvest_checking_tx?r("p",{staticClass:"m-0"},[e._v("Waiting for tx info...")]):e._e(),e.reinvest_error?r("pre",{staticStyle:{"white-space":"pre-line"}},[e._v("Error:\n"+e._s(e.reinvest_error))]):e._e(),e.loaders.withdraw_checking_tx?r("p",{staticClass:"m-0"},[e._v("Waiting for tx info...")]):e._e(),e.withdraw_error?r("pre",{staticStyle:{"white-space":"pre-line"}},[e._v("Error:\n"+e._s(e.withdraw_error))]):e._e()],1)])])},c=[],u=(r("4c53"),r("c1df")),l=r.n(u);function d(e){return new Promise((function(t){setTimeout(t,e)}))}var _={name:"Investment",props:{tron_web:{type:Object,required:!0},contract:{type:Object,required:!0},data:{type:Object,required:!0}},data:function(){return{tx_id:void 0,reinvest_error:"",withdraw_error:"",loaders:{reinvesting:!1,reinvest_checking_tx:!1,withdrawing:!1,withdraw_checking_tx:!1}}},computed:{closing_progress:function(){var e=this.data.expire_at.sub(this.data.created_at),t=this.data.created_at.sub(this.moment().unix()).abs();return{current:t.toNumber(),max:e.toNumber()}}},methods:{moment:function(){return l.a.apply(void 0,arguments)},reinvest:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("> reinvest clicked"),e.loaders.reinvesting=!0,e.reinvest_error="",t.prev=3,t.next=6,e.contract.reinvest(e.data.index).send();case 6:e.tx_id=t.sent,console.log("> ReInvest response:",e.tx_id),e.loaders.reinvest_checking_tx=!0;case 9:return t.next=11,e.tron_web.trx.getUnconfirmedTransactionInfo(e.tx_id);case 11:if(r=t.sent,!Object.keys(r).length){t.next=19;break}if(console.log(">> Invest TX info:",r),"FAILED"!==r.result){t.next=18;break}throw n=e.tron_web.toUtf8(r.resMessage),r.contractResult&&r.contractResult.length&&(n+=", "+e.tron_web.toUtf8(r.contractResult[0].substr(136))),new Error(n);case 18:return t.abrupt("break",23);case 19:return t.next=21,d(1e3);case 21:t.next=9;break;case 23:t.next=30;break;case 25:t.prev=25,t.t0=t["catch"](3),console.error("ReInvest error:",t.t0),"string"===typeof t.t0?e.reinvest_error=t.t0:e.reinvest_error=t.t0.message,e.makeToast("danger","ReInvest error",e.reinvest_error);case 30:e.loaders.reinvesting=!1,e.loaders.reinvest_checking_tx=!1;case 32:case"end":return t.stop()}}),t,null,[[3,25]])})))()},withdraw:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("> withdraw clicked"),e.loaders.withdrawing=!0,e.withdraw_error="",t.prev=3,t.next=6,e.contract.withdraw(e.data.index).send();case 6:e.tx_id=t.sent,console.log("> Withdraw response:",e.tx_id),e.loaders.withdraw_checking_tx=!0;case 9:return t.next=11,e.tron_web.trx.getUnconfirmedTransactionInfo(e.tx_id);case 11:if(r=t.sent,!Object.keys(r).length){t.next=19;break}if(console.log(">> Withdraw TX info:",r),"FAILED"!==r.result){t.next=18;break}throw n=e.tron_web.toUtf8(r.resMessage),r.contractResult&&r.contractResult.length&&(n+=", "+e.tron_web.toUtf8(r.contractResult[0].substr(136))),new Error(n);case 18:return t.abrupt("break",23);case 19:return t.next=21,d(1e3);case 21:t.next=9;break;case 23:t.next=30;break;case 25:t.prev=25,t.t0=t["catch"](3),console.error("Withdraw error:",t.t0),"string"===typeof t.t0?e.withdraw_error=t.t0:e.withdraw_error=t.t0.message,e.makeToast("danger","Withdraw error",e.withdraw_error);case 30:e.loaders.withdrawing=!1,e.loaders.withdraw_checking_tx=!1;case 32:case"end":return t.stop()}}),t,null,[[3,25]])})))()},makeToast:function(e,t,r){this.$bvToast.toast(r,{title:t,variant:e,solid:!0})}}},v=_,f=r("2877"),b=Object(f["a"])(v,i,c,!1,null,null,null),m=b.exports;function g(e){return new Promise((function(t){setTimeout(t,e)}))}var p={name:"App",components:{Investment:m},data:function(){var e=this;return{polls:{logged_in:{id:null,interval:100,hook:function(){e.user.logged_in=!!e.tron_web&&e.tron_web.ready||!1,e.user.logged_in||(e.user.address="")}},app_data:{id:null,interval:5e3,hook:function(){e.fetchAllData()}}},app_ready:!1,tron_web:void 0,loaders:{initial_contract_info:!0,initial_user_info:!0,level_settings:!1,investing:!1,invest_checking_tx:!1,withdraw:!1},listeners:{onInvest:void 0,onWithdraw:void 0,onLevelChange:void 0},contract:{instance:void 0,address:"",contract_balance:void 0,statistic:void 0,settings:void 0,latest_investor_code:void 0,fee_percent:void 0,fee_address:void 0,level_settings:[]},user:{logged_in:!1,address:void 0,uid:void 0,level:void 0,balance:void 0,available_referrer_earnings_amount:void 0,investments_count:void 0,reInvestments_count:void 0,invested_amount:void 0,reInvested_amount:void 0,referral_levels:[],investments:[]},invest_form:{amount:10,referrer_code:0,error:""}}},computed:{current_network:function(){return this.$appConfig.contract.networks[this.$appConfig.contract.currentNetwork]},tron_web_installed:function(){return void 0!==this.tron_web},user_investments:function(){return this.user.investments.slice().reverse()},user_investments_active:function(){return this.user_investments.filter((function(e){return!e.is_expired}))},user_investments_expired:function(){return this.user_investments.filter((function(e){return e.is_expired&&!e.is_withdrawn}))},user_investments_history:function(){return this.user_investments.filter((function(e){return e.is_expired&&e.is_withdrawn}))},user_upgrade_progress_by_amount:function(){var e=this.user.level.toNumber();if(e<this.contract.settings.levelsCount.toNumber()){var t=this.contract.level_settings[e+1];return{current:Number(this.tron_web.fromSun(this.user.invested_amount)),max:Number(this.tron_web.fromSun(t.upgradeInvestedAmount))}}return{current:0,max:0}},user_upgrade_progress_by_count:function(){var e=this.user.level.toNumber();if(e<this.contract.settings.levelsCount.toNumber()){var t=this.contract.level_settings[e+1];return{current:this.user.reInvestments_count.toNumber(),max:t.upgradeReInvestsCount.toNumber()}}return{current:0,max:0}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.app=e,t.next=3,new Promise((function(t){var r=0,n=100,s=setInterval((function(){r>2e3/n&&(clearInterval(s),t()),(e.tron_web=window.tronWeb)&&(clearInterval(s),t()),r++}),n)}));case 3:if(e.app_ready=!0,!e.tron_web_installed){t.next=27;break}return setInterval(e.polls.logged_in.hook,e.polls.logged_in.interval),t.next=8,new Promise((function(t){var r=setInterval((function(){var n=e.tron_web.defaultAddress.base58;n&&(clearInterval(r),t(n))}),200)}));case 8:return e.user.address=t.sent,t.next=11,e.tron_web.contract().at(e.current_network.contractAddress);case 11:return e.contract.instance=t.sent,e.contract.address=e.tron_web.address.fromHex(e.contract.instance.address),t.next=15,e.fetchContractData();case 15:return e.loaders.initial_contract_info=!1,t.next=18,e.fetchContractLevelsSettings();case 18:return t.next=20,e.fetchUserData();case 20:return e.loaders.initial_user_info=!1,e.resetForms(),e.tron_web.on("addressChanged",(function(t){e.user.address!==t.base58&&(e.user.address=t.base58,e.resetForms(),e.fetchUserData())})),t.next=25,e.initEvents();case 25:window.addEventListener("focus",e.fetchAllData),setInterval(e.polls.app_data.hook,e.polls.app_data.interval);case 27:case"end":return t.stop()}}),t)})))()},methods:{onSubmitInvestForm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loaders.investing=!0,e.invest_form.error="",t.prev=2,t.next=5,e.contract.instance.invest(e.invest_form.referrer_code).send({callValue:e.tron_web.toSun(e.invest_form.amount),feeLimit:1e8});case 5:r=t.sent,console.log(">> Invest tx_id:",r),e.loaders.invest_checking_tx=!0;case 8:return t.next=10,e.tron_web.trx.getUnconfirmedTransactionInfo(r);case 10:if(n=t.sent,!Object.keys(n).length){t.next=18;break}if(console.log(">> Invest TX info:",n),"FAILED"!==n.result){t.next=17;break}throw s=e.tron_web.toUtf8(n.resMessage),n.contractResult&&n.contractResult.length&&(s+=", "+e.tron_web.toUtf8(n.contractResult[0].substr(136))),new Error(s);case 17:return t.abrupt("break",22);case 18:return t.next=20,g(1e3);case 20:t.next=8;break;case 22:t.next=29;break;case 24:t.prev=24,t.t0=t["catch"](2),console.error("Invest error:",t.t0),"string"===typeof t.t0?e.invest_form.error=t.t0:e.invest_form.error=t.t0.message,e.makeToast("danger","Invest error",e.invest_form.error);case 29:e.loaders.investing=!1,e.loaders.invest_checking_tx=!1,e.invest_form.amount=10;case 32:case"end":return t.stop()}}),t,null,[[2,24]])})))()},onWithdrawSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loaders.withdraw=!0,t.prev=1,t.next=4,e.contract.instance.withdrawReferralEarnings().send();case 4:r=t.sent,console.log(">> Withdraw tx_id:",r);case 6:return t.next=8,e.tron_web.trx.getUnconfirmedTransactionInfo(r);case 8:if(n=t.sent,!Object.keys(n).length){t.next=16;break}if(console.log(">> Withdraw TX info:",n),"FAILED"!==n.result){t.next=15;break}throw s=e.tron_web.toUtf8(n.resMessage),n.contractResult&&n.contractResult.length&&(s+=", "+e.tron_web.toUtf8(n.contractResult[0].substr(136))),new Error(s);case 15:return t.abrupt("break",20);case 16:return t.next=18,g(1e3);case 18:t.next=6;break;case 20:t.next=28;break;case 22:t.prev=22,t.t0=t["catch"](1),console.error("Withdraw error:",t.t0),a="",a="string"===typeof t.t0?t.t0:t.t0.message,e.makeToast("danger","Withdraw error",a);case 28:e.loaders.withdraw=!1;case 29:case"end":return t.stop()}}),t,null,[[1,22]])})))()},resetForms:function(){this.invest_form.amount=10,this.invest_form.referrer_code=this.user.referrer_uid.toNumber(),this.invest_form.error=""},initEvents:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.onTest22&&window.onTest22.stop(),t.next=3,e.contract.instance.TestEvent().watch((function(e,t){if(console.log("> TestEvent22 triggered:",e,t),e)return console.error('Error with "TestEvent22" event:',e);t&&console.log("> TestEvent22 eventData:",t)}));case 3:return window.onTest22=t.sent,e.listeners.onInvest&&e.listeners.onInvest.stop(),t.next=7,e.contract.instance.InvestEvent().watch((function(t,r){if(console.log("> InvestEvent triggered:",t,r),t)return console.error('Error with "InvestEvent" event:',t);r&&(console.log("> InvestEvent eventData:",r),e.tron_web.address.fromHex(r.result.investor)===e.user.address&&e.makeToast("success","Invest","Successfully invested"))}));case 7:return e.listeners.onInvest=t.sent,e.listeners.onWithdraw&&e.listeners.onWithdraw.stop(),t.next=11,e.contract.instance.WithdrawEvent().watch((function(t,r){if(console.log("> WithdrawEvent triggered:",t,r),t)return console.error('Error with "WithdrawEvent" event:',t);r&&(console.log("> WithdrawEvent eventData:",r),e.tron_web.address.fromHex(r.result.investor)===e.user.address&&e.makeToast("success","Withdraw","Successfully withdraw"))}));case 11:return e.listeners.onWithdraw=t.sent,e.listeners.onLevelChange&&e.listeners.onLevelChange.stop(),t.next=15,e.contract.instance.LevelChangeEvent().watch((function(t,r){if(console.log("> LevelChangeEvent triggered:",t,r),t)return console.error('Error with "LevelChangeEvent" event:',t);r&&(console.log("> LevelChangeEvent eventData:",r),e.tron_web.address.fromHex(r.result.investor)===e.user.address&&e.makeToast("success","Level up","New level"))}));case 15:e.listeners.onLevelChange=t.sent;case 16:case"end":return t.stop()}}),t)})))()},fetchAllData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user.logged_in){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.fetchContractData();case 4:return t.next=6,e.fetchUserData();case 6:case"end":return t.stop()}}),t)})))()},fetchContractData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user.logged_in){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.contract.instance.contractBalance().call();case 4:if(e.contract.contract_balance=t.sent,e.user.logged_in){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.contract.instance.statistic().call();case 9:if(e.contract.statistic=t.sent,e.user.logged_in){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,e.contract.instance.settings().call();case 14:if(e.contract.settings=t.sent,e.user.logged_in){t.next=17;break}return t.abrupt("return");case 17:return t.next=19,e.contract.instance.latestInvestorCode().call();case 19:if(e.contract.latest_investor_code=t.sent,e.user.logged_in){t.next=22;break}return t.abrupt("return");case 22:return t.next=24,e.contract.instance.FEE_PERCENT().call();case 24:if(e.contract.fee_percent=t.sent,e.user.logged_in){t.next=27;break}return t.abrupt("return");case 27:return t.next=29,e.contract.instance.feeAddress().call().then((function(t){return e.tron_web.address.fromHex(t)}));case 29:e.contract.fee_address=t.sent;case 30:case"end":return t.stop()}}),t)})))()},fetchContractLevelsSettings:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user.logged_in){t.next=2;break}return t.abrupt("return");case 2:return e.loaders.level_settings=!0,t.next=5,g(500);case 5:r=e.contract.settings.levelsCount.toNumber(),e.$set(e.contract,"level_settings",new Array(r)),n=0;case 8:if(!(n<r)){t.next=18;break}return t.next=11,e.contract.instance.levelsSettings(n).call();case 11:return s=t.sent,e.$set(e.contract.level_settings,n,s),t.next=15,g(10);case 15:n++,t.next=8;break;case 18:e.loaders.level_settings=!1;case 19:case"end":return t.stop()}}),t)})))()},fetchUserData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user.logged_in){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.contract.instance.address2uid(e.user.address).call();case 4:if(e.user.uid=t.sent,e.user.logged_in){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.contract.instance.investorInfoByUid(e.user.uid).call();case 9:for(r=t.sent,e.user.referrer_uid=r[1],e.user.level=r[2],e.user.balance=r[3],e.user.available_referrer_earnings_amount=r[4],e.user.investments_count=r[5],e.user.reInvestments_count=r[6],e.user.invested_amount=r[7],e.user.reInvested_amount=r[8],e.user.referral_levels=[],n=0;n<e.contract.settings.referrerLevelsCount.toNumber();n++)e.user.referral_levels.push({referrals_count:r[9][n],referrals_earnings_amount:r[10][n]});if(e.user.logged_in){t.next=22;break}return t.abrupt("return");case 22:return t.next=24,e.contract.instance.investmentsByUid(e.user.uid).call();case 24:for(s=t.sent,a=e.user.investments_count.toNumber(),e.user.investments=[],o=0;o<a;o++)i={index:o,created_at:s[0][o],expire_at:s[0][o],amount:s[1][o],level:s[2][o],is_expired:s[3][o],is_withdrawn:s[4][o],total_dividends:s[5][o],available_dividends:s[6][o]},c=e.contract.level_settings[i.level],i.expire_at=i.created_at.add(c.investmentLifetime),e.user.investments.push(i);case 28:case"end":return t.stop()}}),t)})))()},makeToast:function(e,t,r){this.$bvToast.toast(r,{title:t,variant:e,solid:!0})}},beforeDestroy:function(){clearInterval(this.polls.logged_in.id),clearInterval(this.polls.app_data.id),window.removeEventListener("focus",this.fetchAllData)}},h=p,w=(r("5c0b"),Object(f["a"])(h,s,a,!1,null,null,null)),x=w.exports,j=r("5f5b"),k=r("b1e0");r("21b6"),r("2dd8");n["default"].use(j["a"]),n["default"].use(k["a"]),n["default"].config.productionTip=!1;n["default"].prototype.$appConfig=r("9485");new n["default"]({render:function(e){return e(x)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},9485:function(e,t){e.exports={contract:{currentNetwork:"shasta",networks:{main:{contractAddress:"",fullNode:"https://api.trongrid.io",solidityNode:"https://api.trongrid.io",eventServer:"https://api.trongrid.io"},shasta:{contractAddress:"TVnot2KMhSTDGXC2wcXsAAVcFLYNBM2Chf",fullNode:"https://api.shasta.trongrid.io",solidityNode:"https://api.shasta.trongrid.io",eventServer:"https://api.shasta.trongrid.io"}}}}},"9c0c":function(e,t,r){}});
//# sourceMappingURL=app.778fab56.js.map